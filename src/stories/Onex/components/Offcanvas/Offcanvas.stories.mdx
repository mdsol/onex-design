<!-- Offcanvas.mdx -->
import { Meta, ArgsTable, Canvas, Story } from '@storybook/addon-docs';
import  { Offcanvas, Button } from '../../../../components';
import * as stories from './Offcanvas.stories.jsx';

<Meta
    title="Onex/Components/Offcanvas"
    argTypes={{
      link: {
      description: `Link for solo link btn in footar`,
      control: 'text',
      table: {
        defaultValue: {
          summary: '',
        },
        type: {
          summary: 'string',
        },
      },
    },
        linkText: {
      description: `Text for solo link btn in footar`,
      control: 'text',
      table: {
        defaultValue: {
          summary: '',
        },
        type: {
          summary: 'string',
        },
      },
    },
    primaryActionFc: {
      description: 'A callback fired when the user click on Primary Btn',
      action: 'primaryFc',
      table: {
        type: {
          summary: 'func',
        },
      },
    },
    primaryActionText: {
      description: `Text for Primary Btn`,
      control: 'text',
      table: {
        defaultValue: {
          summary: '',
        },
        type: {
          summary: 'string',
        },
      },
    },
    secondaryActionFc: {
      description: 'A callback fired when the user click on Secondary Btn',
      action: 'primaryFc',
      table: {
        type: {
          summary: 'func',
        },
      },
    },
    secondaryActionText: {
      description: `Text for Secondary Btn`,
      control: 'text',
      table: {
        defaultValue: {
          summary: '',
        },
        type: {
          summary: 'string',
        },
      },
    },
    title: {
      description: `Text for title`,
      control: 'text',
      table: {
        defaultValue: {
          summary: '',
        },
        type: {
          summary: 'string',
        },
      },
    },
      children: {
      description: 'The content of the Offcanvas',
      control: 'text',
    },
      badge: {
        description: `Badge for title`,
        control: 'number',
        table: {
          defaultValue: {
            summary: '',
          },
          type: {
            summary: 'number',
          },
        },
      },
      autoFocus: {
        description: `When true The offcanvas will automatically shift focus to itself when it opens,
                and replace it to the last focused element when it closes. Generally this should never be set
                to false as it makes the offcanvas less accessible to assistive technologies, like screen-readers.`,
        control: 'boolean',
        table: {
          defaultValue: {
            summary: true,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
      backdrop: {
        description: 'Include a backdrop component.',
        control: 'boolean',
        table: {
          defaultValue: {
            summary: true,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
      backdropClassName: {
        description: 'Add an optional extra class name to .offcanvas-backdrop.',
        control: 'text',
        table: {
          type: {
            summary: 'string',
          },
        },
      },
      enforceFocus: {
        description: `When true The offcanvas will prevent focus from leaving the offcanvas while open.
                Consider leaving the default value here, as it is necessary to make the offcanvas work well with
                assistive technologies, such as screen readers.`,
        control: 'boolean',
        table: {
          defaultValue: {
            summary: true,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
      onEnter: {
        description: 'Callback fired before the offcanvas transitions in',
        action: 'enter',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onEntered: {
        description: 'Callback fired after the offcanvas finishes transitioning in',
        action: 'entered',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onEntering: {
        description: 'Callback fired as the offcanvas begins to transition in',
        action: 'entering',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onEscapeKeyDown: {
        description: 'A callback fired when the escape key, if specified in keyboard, is pressed.',
        action: 'escapeKeyDown',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onExit: {
        description: 'Callback fired right before the offcanvas transitions out',
        action: 'exit',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onExited: {
        description: 'Callback fired after the offcanvas finishes transitioning out',
        action: 'exited',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onExiting: {
        description: 'Callback fired as the offcanvas begins to transition out',
        action: 'exiting',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onHide: {
        description:
          'A callback fired when the header closeButton or backdrop is clicked. Required if either are specified.',
        action: 'hide',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onShow: {
        description: 'A callback fired when the offcanvas is opening.',
        action: 'show',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      restoreFocus: {
        description: `When true The offcanvas will restore focus to previously
                        focused element once offcanvas is hidden`,
        control: 'boolean',
        table: {
          defaultValue: {
            summary: true,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
      restoreFocusOptions: {
        description: 'Options passed to focus function when restoreFocus is set to true',
        control: 'text',
        table: {
          type: {
            summary: 'shape',
          },
        },
      },
      scroll: {
        description: 'Allow body scrolling while offcanvas is open.',
        control: 'boolean',
        table: {
          defaultValue: {
            summary: false,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
      show: {
        description: 'When true The offcanvas will show itself.',
        control: 'boolean',
        table: {
          defaultValue: {
            summary: false,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
    }}
    component={ Offcanvas }
/>

export const OffcanvasTemplate = (args) => <Offcanvas {...args} />;

# Offcanvas
Build hidden sidebars into your project for navigation, shopping carts, and more.

### Different Actions Buttons
You can have different btns in your offcanvas footer, if you use link props - its have high priority and will be onli link btn, if not, by default you have only Primary Action Btn, but if you need, you can use secondaryActionFc and secondaryActionText props for add secondary btn.

<Canvas>
  <Story name="OnlyPrimaryBtn(default)" story={stories.OnlyPrimaryBtn} />
  <Story name="PrimaryAndSecondaryBtns" story={stories.PrimaryAndSecondaryBtns} />
  <Story name="LinkBtn" story={stories.LinkBtn} />
</Canvas>

### Badge for title
Also you can add badge for title in offcanvas window, just use badge prop.

<Canvas>
  <Story name="Variant with badge" story={stories.BadgeVariant} />
</Canvas>

### Backdrop
Scrolling the ```<body>``` element is disabled when an offcanvas and its backdrop are visible.
Use the ```scroll``` prop to toggle ```<body>``` scrolling and the ```backdrop``` prop to toggle the backdrop.

<Canvas>
    <Story name="EnableBackdrop" story={stories.EnableBackdrop} />
    <Story name="DisableBackdrop" story={stories.DisableBackdrop} />
    <Story name="EnableScrolling" story={stories.EnableScrolling} />
    <Story name="EnableScrollingBackdrop" story={stories.EnableScrollingBackdrop} />
</Canvas>

## Demo

<Canvas>
    <Story name="Demo"
           args={{
               scroll: true,
               secondaryActionFc: null,
               title: 'Title',
           }}>
        {({children, ...args}) => {
            const [show, setShow] = React.useState(false);
            return (
                <>
                    <Button variant="primary" onClick={() => setShow(true)}>
                        Launch
                    </Button>
                    <Offcanvas {...args} show={show} onHide={() => setShow(false)}>
                    {children || 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consecteturLorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consecteturLorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consecteturLorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consecteturLorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consecteturLorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consecteturLorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consecteturLorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consecteturLorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consecteturLorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consecteturLorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consecteturLorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consecteturLorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consecteturLorem ipsum dolor sit amet consectetur adipisicing elit. Corporis magni aliquam libero, deleniti exercitationem, labore ratione quia asperiores ex est quos maxime, fugiat voluptatem veritatis. Laborum qui dicta voluptates consectetur.'}
                    </Offcanvas>
                </>
            );
        }}
    </Story>
</Canvas>

<ArgsTable story="Demo" />
