<!-- Button.mdx -->

import { Meta, Canvas, Story, ArgsTable } from '@storybook/addon-docs';
import { Button, Icon } from '../../../../components';
import * as stories from './Button.stories.jsx';

export const icons = { StarRoundedIcon: <Icon>star</Icon>, StarsRoundedIcon: <Icon>stars</Icon>, remove: undefined };

<Meta
  title="Onex/Components/Button"
  argTypes={{
    children: {
      description: 'The content of the button',
      control: 'text',
    },
    className: {
      description: 'Name of the CSS class',
      control: 'text',
    },
    dataTestId: {
      description: 'Id of the component for testing',
    },
    leadingIcon: {
      description: 'Element placed before the children.',
      options: Object.keys(icons),
      mapping: icons,
      control: {
        type: 'select',
        labels: {
          StarRoundedIcon: 'Star',
          StarsRoundedIcon: 'Star in round',
          remove: 'Remove icon'
        },
      },
      table: {
        defaultValue: {
          summary: 'undefined',
        },
      },
    },
    trailingIcon: {
      description: 'Element placed after the children.',
      options: Object.keys(icons),
      mapping: icons,
      control: {
        type: 'select',
        labels: {
          StarRoundedIcon: 'Star',
          StarsRoundedIcon: 'Star in round',
          remove: 'Remove icon'
        },
      },
      table: {
        defaultValue: {
          summary: 'undefined',
        },
      },
    },
    disabled: {
      description: 'Disables the Button, preventing mouse events',
      control: 'boolean',
    },
    size: {
      description: 'Specifies a middle or small button',
    },
    onClick: { action: 'clicked' },
    variant: {
      description: 'Button variation',
    },
    type: {
      description: 'Button type',
    },
  }}
  component={Button}
/>

export const ButtonTemplate = (args) => <Button {...args} />;

# Button

Buttons are clickable items used for actions. They can have different styles depending on the needs.

## Demo

<Canvas>
  <Story name="Demo">
    {(args) => {
      const [value, setValue] = React.useState(args?.children || 'Basic button');
      const [icon, setIcon] = React.useState(false);
      React.useEffect(() => {
        if (args?.type === 'icon') {
          setIcon(true);
          setValue(null);
        }
        if (args?.type === 'default') {
          setIcon(false);
          setValue(args?.children || 'Basic button');
        }
      }, [args?.type, args?.children]);
      return (
        <Button
          type="default"
          className="custom-button"
          size="md"
          dataTestId="test-button-id"
          variant="primary"
          onClick={() => {}}
          {...args}
          trailingIcon={args?.type === 'default' && args?.trailingIcon}
          leadingIcon={args?.type === 'default' && args?.leadingIcon}
        >
          {icon && <Icon>star</Icon>}
          {value}
        </Button>
      );
    }}
  </Story>
</Canvas>

<ArgsTable story="Demo" />

## Style

### Sizes

Supports two button sizes: `small` and `middle`.

<Canvas>
  <Story name="Small" story={stories.Small} />
  <Story name="Middle" story={stories.Middle} />
</Canvas>

### Variations

#### Primary

<Canvas>
  <Story name="PrimarySmall" story={stories.PrimarySmall} />
  <Story name="PrimaryMiddle" story={stories.PrimaryMiddle} />
  <Story name="PrimaryWithTrailingIcon" story={stories.PrimaryWithTrailingIcon} />
  <Story name="PrimaryWithLeadingIcon" story={stories.PrimaryWithLeadingIcon} />
  <Story name="PrimaryWithTwoIcons" story={stories.PrimaryWithTwoIcons} />
  <Story name="PrimarySmallIcon" story={stories.PrimarySmallIcon} />
  <Story name="PrimaryMiddleIcon" story={stories.PrimaryMiddleIcon} />
  <Story name="PrimaryMiddleIconDisabled" story={stories.PrimaryMiddleIconDisabled} />
  <Story name="PrimaryDisabled" story={stories.PrimaryDisabled} />
</Canvas>

#### Secondary

<Canvas>
  <Story name="SecondarySmall" story={stories.SecondarySmall} />
  <Story name="SecondaryMiddle" story={stories.SecondaryMiddle} />
  <Story name="SecondaryWithTrailingIcon" story={stories.SecondaryWithTrailingIcon} />
  <Story name="SecondaryWithLeadingIcon" story={stories.SecondaryWithLeadingIcon} />
  <Story name="SecondaryWithTwoIcons" story={stories.SecondaryWithTwoIcons} />
  <Story name="SecondaryIconSmall" story={stories.SecondaryIconSmall} />
  <Story name="SecondaryIconMiddle" story={stories.SecondaryIconMiddle} />
  <Story name="SecondaryIconMiddleDisabled" story={stories.SecondaryIconMiddleDisabled} />
  <Story name="SecondaryDisabled" story={stories.SecondaryDisabled} />
</Canvas>

#### Tertiary

<Canvas>
  <Story name="TertiarySmall" story={stories.TertiarySmall} />
  <Story name="TertiaryMiddle" story={stories.TertiaryMiddle} />
  <Story name="TertiaryWithTrailingIcon" story={stories.TertiaryWithTrailingIcon} />
  <Story name="TertiaryWithLeadingIcon" story={stories.TertiaryWithLeadingIcon} />
  <Story name="TertiaryWithTwoIcons" story={stories.TertiaryWithTwoIcons} />
  <Story name="TertiaryIconSmall" story={stories.TertiaryIconSmall} />
  <Story name="TertiaryIconMiddle" story={stories.TertiaryIconMiddle} />
  <Story name="TertiaryIconMiddleDisabled" story={stories.TertiaryIconMiddleDisabled} />
  <Story name="TertiaryDisabled" story={stories.TertiaryDisabled} />
</Canvas>
