import { Story, Canvas, ArgsTable, Meta } from "@storybook/addon-docs";

import { Select } from '../../../../components';
import * as stories from './Select.stories.jsx';

<Meta
    title="Onex/Forms/Select"
    argTypes={{
        className: {
            description: 'Override or extend the styles applied to the component.',
            table: {
                defaultValue: {
                    summary: 'undefined',
                },
            }
        },
        size: {
            description: 'The size of the component',
        },
        dataTestId: {
            description: 'The id of the component for test',
            table: {
                defaultValue: {
                    summary: 'undefined',
                },
            }
        },
        options: {
          description: 'The array of select\'s options.',
          table: {
            defaultValue: {
                summary: 'undefined',
            },
            type: {
              summary: 'Array({ value: string | number, label: string | number })'
            }
          }
        },
        groupedOptions: {
          description: 'The array of select\'s options with group.',
          table: {
            defaultValue: {
              summary: 'undefined',
            },
            type: {
              summary: 'Array({ label: string, options: Array({ value: string | number, label: string | number })})'
            }
          }
        },
        isMulti: {
          description: 'The option to select several values',
          table: {
              defaultValue: {
                  summary: 'undefined',
              },
          }
        },
        isDisabled: {
          description: 'The component is disabled if the value is true',
          table: {
              defaultValue: {
                  summary: 'undefined',
              },
          }
        },
        isInvalid: {
          description: 'The component is red if the value is true',
          table: {
              defaultValue: {
                  summary: 'undefined',
              },
          }
        },
        errorMessage: {
          description: 'The text for error case',
          table: {
              defaultValue: {
                  summary: 'undefined',
              },
          }
        },
        selectedValues: {
          description: 'The array of selected values',
          table: {
              defaultValue: {
                  summary: 'undefined',
              },
              type: {
                summary: 'Array({ value: string | number, label: string | number })'
              }
          }
        },
        showCheckInOption: {
          description: 'This is determined by whether the checkbox will be displayed in option or not',
          table: {
            defaultValue: {
              summary: 'false',
            },
          }
        },
        hasClearButton: {
          description: 'This is determined by whether the clear button will be displayed in multi select. isMulty should to by true.',
          table: {
            defaultValue: {
              summary: 'false',
            },
          }
        },
        label: {
          description: 'The label content.',
          table: {
            defaultValue: {
              summary: 'undefined',
            },
          }
        },
        helpText: {
          description: 'The text with helpful information.',
          table: {
            defaultValue: {
              summary: 'undefined',
            },
          }
        },
        isAsync: {
            description: 'If the value is true the async search select is shown',
            table: {
                defaultValue: {
                    summary: 'false',
                },
            }
        },
        onSelect: {
          description: 'Callback fired when the option is select.',
        },
        onLoadOptions: { description: 'async function which returns array of options' },
        getOptionValue: { description: 'function returns the value of selected option in async Select' },
        getOptionLabel: { description: 'function returns the label of selected option in async Select' },
    }}
    decorators={[(Story) => (
      <div className="left-wrap" style={{ padding: '20px', height: '300px' }}>
        <Story />
      </div>
    )]}
    component={Select}
/>

export const Template = (args) => <Select {...args} />;

## Select

The select component allows users to choose single or multiple options from a list.

### Select details

<Canvas>
  <Story
    name="Demo"
    height="200px"
    padding="10px"
    args={{
      size: 'lg',
      className: 'select',
      dataTestId: 'select',
      options: [
        { value: 'brazil', label: 'Brazil' },
        { value: 'colombia', label: 'Colombia' },
        { value: 'poland', label: 'Poland' },
        { value: 'portugal', label: 'Portugal' },
        { value: 'spain', label: 'Spain' },
      ],
      isMulti: true,
      selectedValues: [],
    }}>
    {Template.bind({})}
  </Story>
</Canvas>


<ArgsTable story="Demo" />

### Select sizes

<Canvas>
    <Story name="Small" story={stories.Small} />
    <Story name="Medium" story={stories.Medium} />
</Canvas>

### MultiSelect

<Canvas>
  <Story name="MultiSelect" story={stories.Multi} />
</Canvas>

### Select with grouped options. If you need options divided into groups, you should use "gropedOptions" property.

<Canvas>
  <Story height="450px" name="GroupOption" story={stories.GroupOption} />
</Canvas>

#### Select with checkbox in items

<Canvas>
  <Story name="WithCheckboxes" story={stories.WithCheckboxes} />
</Canvas>

### Select with help text, label and error message

<Canvas>
  <Story name="Label" story={stories.Label} />
  <Story name="HelpText" story={stories.HelpText} />
  <Story name="ErrorField" story={stories.ErrorField} />
</Canvas>

### Disabled Select

<Canvas>
  <Story name="Disabled" story={stories.Disabled} />
</Canvas>

### Example of MultiSelect with clear button

<Canvas>
  <Story name="HasClearButton" story={stories.HasClearButton} />
</Canvas>
